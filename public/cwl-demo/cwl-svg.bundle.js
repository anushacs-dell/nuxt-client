(()=>{var t={55:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(239),a=o(547),l=o(430),c=function(t){function e(e){void 0===e&&(e={});var o=t.call(this)||this;return o.scrollMargin=50,o.movementSpeed=10,o.wheelPrevent=function(t){return t.stopPropagation()},o.boundMoveHandler=o.onMove.bind(o),o.boundMoveStartHandler=o.onMoveStart.bind(o),o.boundMoveEndHandler=o.onMoveEnd.bind(o),o.detachDragListenerFn=void 0,Object.assign(o,e),o}return r(e,t),e.prototype.onEditableStateChange=function(t){t?this.attachDrag():this.detachDrag()},e.prototype.afterRender=function(){this.workflow.editingEnabled&&this.attachDrag()},e.prototype.destroy=function(){this.detachDrag()},e.prototype.registerWorkflow=function(e){t.prototype.registerWorkflow.call(this,e),this.edgePanner=new l.EdgePanner(this.workflow,{scrollMargin:this.scrollMargin,movementSpeed:this.movementSpeed})},e.prototype.detachDrag=function(){"function"==typeof this.detachDragListenerFn&&this.detachDragListenerFn(),this.detachDragListenerFn=void 0},e.prototype.attachDrag=function(){this.detachDrag(),this.detachDragListenerFn=this.workflow.domEvents.drag(".node .core",this.boundMoveHandler,this.boundMoveStartHandler,this.boundMoveEndHandler)},e.prototype.getWorkflowMatrix=function(){return this.workflow.workflow.transform.baseVal.getItem(0).matrix},e.prototype.onMove=function(t,e,o){var n=this,r=this.workflow.scale,i=this.getWorkflowMatrix().e-this.startWorkflowTranslation.x,s=this.getWorkflowMatrix().f-this.startWorkflowTranslation.y;this.edgePanner.triggerCollisionDetection(o.clientX,o.clientY,function(t,e){n.sdx+=t,n.sdy+=e,n.translateNodeBy(n.movingNode,t,e),n.redrawEdges(n.sdx,n.sdy)}),this.sdx=(t-i)/r,this.sdy=(e-s)/r;var a=this.sdx+this.startX,l=this.sdy+this.startY;this.translateNodeTo(this.movingNode,a,l),this.redrawEdges(this.sdx,this.sdy)},e.prototype.onMoveStart=function(t,e){var o=this.workflow.svgRoot;document.addEventListener("mousewheel",this.wheelPrevent,!0);var n=e.parentNode,r=n.transform.baseVal.getItem(0).matrix;this.startX=r.e,this.startY=r.f;var s=n.getAttribute("data-id");this.startWorkflowTranslation={x:this.getWorkflowMatrix().e,y:this.getWorkflowMatrix().f},this.boundingClientRect=o.getBoundingClientRect(),this.movingNode=e.parentNode,this.inputEdges=new Map,this.outputEdges=new Map;var a,l,c=".edge[data-source-node='"+s+"'] .sub-edge",d=".edge[data-destination-node='"+s+"'] .sub-edge",u=o.querySelectorAll([d,c].join(", "));try{for(var h=i(u),f=h.next();!f.done;f=h.next()){var p=f.value,g=p.parentElement.getAttribute("data-destination-node")===s,v=p.getAttribute("d").split(" ").map(Number).filter(function(t){return!isNaN(t)});g?this.inputEdges.set(p,v):this.outputEdges.set(p,v)}}catch(t){a={error:t}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}},e.prototype.translateNodeBy=function(t,e,o){var n=t.transform.baseVal.getItem(0).matrix;this.translateNodeTo(t,n.e+e,n.f+o)},e.prototype.translateNodeTo=function(t,e,o){t.transform.baseVal.getItem(0).setTranslate(e,o)},e.prototype.redrawEdges=function(t,e){this.inputEdges.forEach(function(o,n){var r=s.Workflow.makeConnectionPath(o[0],o[1],o[6]+t,o[7]+e);n.setAttribute("d",r)}),this.outputEdges.forEach(function(o,n){var r=s.Workflow.makeConnectionPath(o[0]+t,o[1]+e,o[6],o[7]);n.setAttribute("d",r)})},e.prototype.onMoveEnd=function(){this.edgePanner.stop();var t=this.movingNode.getAttribute("data-connection-id"),e=this.workflow.model.findById(t);e.customProps||(e.customProps={});var o=this.movingNode.transform.baseVal.getItem(0).matrix;Object.assign(e.customProps,{"sbg:x":o.e,"sbg:y":o.f}),this.onAfterChange({type:"node-move"}),document.removeEventListener("mousewheel",this.wheelPrevent,!0),delete this.startX,delete this.startY,delete this.movingNode,delete this.inputEdges,delete this.outputEdges,delete this.boundingClientRect,delete this.startWorkflowTranslation},e}(a.PluginBase);e.SVGNodeMovePlugin=c},99:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.registerWorkflow=function(e){t.prototype.registerWorkflow.call(this,e),this.svg=e.svgRoot,this.dispose=this.attachWheelListener()},e.prototype.attachWheelListener=function(){var t=this,e=this.onMouseWheel.bind(this);return this.svg.addEventListener("wheel",e,!0),function(){return t.svg.removeEventListener("wheel",e,!0)}},e.prototype.onMouseWheel=function(t){var e=this.workflow.scale,o=e-t.deltaY/500,n=o<e;o>e&&this.workflow.maxScale<o||n&&this.workflow.minScale>o||(this.workflow.scaleAtPoint(o,t.clientX,t.clientY),t.stopPropagation())},e.prototype.destroy=function(){"function"==typeof this.dispose&&this.dispose(),this.dispose=void 0},e}(o(547).PluginBase);e.ZoomPlugin=i},159:function(t,e){"use strict";var o=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},n=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.handlers=t.reduce(function(t,e){return Object.assign(t,((o={})[e]=[],o));var o},{})}return t.prototype.on=function(t,e){var o=this;return this.guard(t,"subscribe to"),this.handlers[t].push(e),function(){return o.off(t,e)}},t.prototype.off=function(t,e){return this.guard(t,"unsubscribe from"),this.handlers[t].splice(this.handlers[t].findIndex(function(t){return e===t}),1)},t.prototype.emit=function(t){for(var e,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];this.guard(t,"emit");for(var i=0;i<this.handlers[t].length;i++)(e=this.handlers[t])[i].apply(e,n(o))},t.prototype.empty=function(){for(var t in this.handlers)this.handlers[t]=[]},t.prototype.guard=function(t,e){this.handlers[t]||console.warn("Trying to "+e+" a non-supported event “"+t+"”. \n            Supported events are: "+Object.keys(this.handlers).join(", ")+"”")},t}();e.EventHub=r},187:function(t,e,o){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}},r=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(589),a=o(695),l=function(){function t(){}return t.prototype.registerWorkflow=function(t){this.workflow=t,this.svgRoot=t.svgRoot},t.prototype.registerOnBeforeChange=function(t){this.onBeforeChange=function(){return t({type:"arrange"})}},t.prototype.registerOnAfterChange=function(t){this.onAfterChange=function(){return t({type:"arrange"})}},t.prototype.registerOnAfterRender=function(t){this.triggerAfterRender=function(){return t({type:"arrange"})}},t.prototype.afterRender=function(){var t,e,o=this.workflow.model,r=[].concat(o.steps||[],o.inputs||[],o.outputs||[]);try{for(var i=n(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.isVisible&&isNaN(parseInt(a.customProps["sbg:x"])))return void this.arrange()}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.arrange=function(){this.onBeforeChange(),this.workflow.resetTransform();var t=this.makeNodeGraphs(),e=t.mainGraph,o=t.danglingNodes,n=this.distributeNodesIntoColumns(e),r=this.calculateColumnSizes(n),i=r.distributionArea,l=r.columnDimensions,c=i.height/2,d=0,u=0,h={};n.forEach(function(t,e){var o=l[e],n=c-o.height/2-t[0].rect.height/2;t.forEach(function(t){n+=t.rect.height/2;var e=a.SVGUtils.createMatrix().translate(d,n);(n+=t.rect.height/2)>u&&(u=n),t.el.setAttribute("transform",a.SVGUtils.matrixToTransformAttr(e)),h[t.connectionID]={x:e.e,y:e.f}}),d+=o.width});var f=Object.keys(o).sort(function(t,e){var o=t.startsWith("out/"),n=t.startsWith("in/"),r=e.startsWith("out/"),i=e.startsWith("in/"),s=t.toLowerCase(),a=e.toLowerCase();return n?i?a.localeCompare(s):1:o?i?-1:r?a.localeCompare(s):1:i||r?-1:a.localeCompare(s)}),p=5*s.GraphNode.radius,g=0,v=0,w=new Map,y=new Map;d=0;var m=Math.max(i.width,3*p);f.forEach(function(t,e){var n=o[t].firstElementChild.getBoundingClientRect();w.set(e,n.width),0===d&&(d-=n.width/2),n.height>g&&(g=n.height),(d+=n.width+30+Math.max(150-n.width,0))>=m&&e<f.length-1&&(y.set(v++,g),g=0,d=0)}),y.set(v,g);var b=u;for(var k in d=0,v=0,f.forEach(function(t,e){var n=o[t],r=w.get(e),i=y.get(v),s=d+r/2,l=b+30+Math.ceil(i/2)+(0===d?0:s)/m*p;0===d&&(s-=r/2,d-=r/2),d+=r+30+Math.max(150-r,0);var c=a.SVGUtils.createMatrix().translate(s,l);n.setAttribute("transform",a.SVGUtils.matrixToTransformAttr(c)),h[t]={x:c.e,y:c.f},d>=m&&(b+=Math.ceil(i)+30,d=0,g=0,v++)}),this.workflow.redrawEdges(),this.workflow.fitToViewport(),this.onAfterChange(h),this.triggerAfterRender(),h){var S=h[k],P=this.workflow.model.findById(k);P.customProps||(P.customProps={}),Object.assign(P.customProps,{"sbg:x":S.x,"sbg:y":S.y})}return h},t.prototype.calculateColumnSizes=function(t){for(var e={width:0,height:0},o=[],n=1;n<t.length;n++){for(var r=0,i=0,s=0;s<t[n].length;s++){var a=t[n][s];i+=a.rect.height,r<a.rect.width&&(r=a.rect.width)}o[n]={height:i,width:r},e.width+=r,i>e.height&&(e.height=i)}return{columnDimensions:o,distributionArea:e}},t.prototype.distributeNodesIntoColumns=function(t){for(var e={},o=Object.keys(t).sort(function(t,e){return e.localeCompare(t)}),n=[],r=0;r<o.length;r++){var i=o[r],s=t[i];if("input"!==s.type)e[i]=this.traceLongestNodePathLength(s,t);else{for(var a=1/0,l=0;l<s.outputs.length;l++){var c=e[s.outputs[l]];c<a&&(a=c)}e[i]=a===1/0?1:a-1}var d=e[i];n[d]||(n[d]=[]),n[d].push(t[i])}return n},t.prototype.indexNodesByID=function(){for(var t={},e=this.svgRoot.querySelectorAll(".node"),o=0;o<e.length;o++)t[e[o].getAttribute("data-connection-id")]=e[o];return t},t.prototype.traceLongestNodePathLength=function(t,e,o){if(void 0===o&&(o=new Set),o.add(t),0===t.inputs.length)return 1;for(var n=[],r=0;r<t.inputs.length;r++){var s=e[t.inputs[r]];o.has(s)||n.push(this.traceLongestNodePathLength(s,e,o))}return Math.max.apply(Math,i(n))+1},t.prototype.makeNodeGraphs=function(){for(var t=this.indexNodesByID(),e={},o=this.svgRoot.querySelectorAll(".edge"),n=0;n<o.length;n++){var i=o[n],s=i.getAttribute("data-source-connection"),a=i.getAttribute("data-destination-connection"),l=r(s.split("/"),3),c=l[0],d=l[1],u=l[2],h=r(a.split("/"),3),f=h[0],p=h[1],g="step",v="step";d===u&&(g="in"===c?"output":"input"),p===h[2]&&(v="in"===f?"output":"input");var w=this.svgRoot.querySelector('.node[data-id="'+d+'"]'),y=this.svgRoot.querySelector('.node[data-id="'+p+'"]'),m=w.getAttribute("data-connection-id"),b=y.getAttribute("data-connection-id");delete t[m],delete t[b],e[d]||(e[d]={inputs:[],outputs:[],type:g,connectionID:m,el:w,rect:w.getBoundingClientRect()}),e[p]||(e[p]={inputs:[],outputs:[],type:v,connectionID:b,el:y,rect:y.getBoundingClientRect()}),e[d].outputs.push(p),e[p].inputs.push(d)}return{mainGraph:e,danglingNodes:t}},t}();e.SVGArrangePlugin=l},228:(t,e,o)=>{try{const e=o(256),{WorkflowFactory:n}=e,r=o(558);if("undefined"!=typeof window){window.WorkflowFactory=n,window.Workflow=r.Workflow,window.SVGArrangePlugin=r.SVGArrangePlugin,window.SelectionPlugin=r.SelectionPlugin,window.SVGPortDragPlugin=r.SVGPortDragPlugin,window.SVGNodeMovePlugin=r.SVGNodeMovePlugin,window.ZoomPlugin=r.ZoomPlugin,window.SVGValidatePlugin=r.SVGValidatePlugin,window.SVGEdgeHoverPlugin=r.SVGEdgeHoverPlugin,window.DeletionPlugin=r.DeletionPlugin,window.CWL={WorkflowFactory:window.WorkflowFactory,Workflow:window.Workflow,SVGArrangePlugin:window.SVGArrangePlugin,SelectionPlugin:window.SelectionPlugin,SVGPortDragPlugin:window.SVGPortDragPlugin,SVGNodeMovePlugin:window.SVGNodeMovePlugin,ZoomPlugin:window.ZoomPlugin,SVGValidatePlugin:window.SVGValidatePlugin,SVGEdgeHoverPlugin:window.SVGEdgeHoverPlugin,DeletionPlugin:window.DeletionPlugin},console.log("CWL objects loaded:",Object.keys(window.CWL));try{const t=o(793);t&&t.CWLComponent&&(window.CWLComponent=t.CWLComponent,console.log("✅ CWLComponent exposé dans window.CWLComponent"))}catch(t){console.warn("⚠️ CWLComponent non disponible:",t)}}t.exports=r}catch(t){console.error("Erreur lors du chargement de cwl-svg:",t),"undefined"!=typeof window&&(window.CWL={},window.WorkflowFactory=null,window.Workflow=null)}},237:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundEdgeEnterFunction=e.onEdgeEnter.bind(e),e.modelListener={dispose:function(){}},e}return r(e,t),e.prototype.afterRender=function(){this.attachEdgeHoverBehavior()},e.prototype.destroy=function(){this.detachEdgeHoverBehavior(),this.modelListener.dispose()},e.prototype.attachEdgeHoverBehavior=function(){this.detachEdgeHoverBehavior(),this.workflow.workflow.addEventListener("mouseenter",this.boundEdgeEnterFunction,!0)},e.prototype.detachEdgeHoverBehavior=function(){this.workflow.workflow.removeEventListener("mouseenter",this.boundEdgeEnterFunction,!0)},e.prototype.onEdgeEnter=function(t){var e=this;if(t.srcElement.classList.contains("edge")){var o,n=t.srcElement,r=function(t){var n=e.workflow.transformScreenCTMtoCanvas(t.clientX,t.clientY);o.setAttribute("x",String(n.x)),o.setAttribute("y",String(n.y-16))}.bind(this),s=function(t){o.remove(),n.removeEventListener("mousemove",r),n.removeEventListener("mouseleave",s)}.bind(this);this.modelListener=this.workflow.model.on("connection.remove",function(t,e){if(o){var n=i(o.getAttribute("data-source-destination").split("$!$"),2),r=n[0],s=n[1];r===t.connectionId&&s===e.connectionId&&o.remove()}});var a=n.getAttribute("data-source-node"),l=n.getAttribute("data-destination-node"),c=n.getAttribute("data-source-port"),d=n.getAttribute("data-destination-port"),u=n.getAttribute("data-source-connection"),h=n.getAttribute("data-destination-connection"),f=a===c?a:a+" ("+c+")",p=l===d?l:l+" ("+d+")",g=this.workflow.transformScreenCTMtoCanvas(t.clientX,t.clientY);(o=document.createElementNS("http://www.w3.org/2000/svg","text")).classList.add("label"),o.classList.add("label-edge"),o.setAttribute("x",String(g.x)),o.setAttribute("y",String(g.y)),o.setAttribute("data-source-destination",u+"$!$"+h),o.innerHTML=f+" → "+p,this.workflow.workflow.appendChild(o),n.addEventListener("mousemove",r),n.addEventListener("mouseleave",s)}},e}(o(547).PluginBase);e.SVGEdgeHoverPlugin=s},239:(t,e,o)=>{"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),n(o(759)),n(o(99)),n(o(187)),n(o(961)),n(o(55)),n(o(319)),n(o(771)),n(o(237)),n(o(705)),n(o(629))},256:(t,e,o)=>{"use strict";o.r(e),o.d(e,{CWLModel:()=>n,CommandInputParameterModel:()=>u,CommandLineToolModel:()=>s,CommandOutputParameterModel:()=>h,ModelFactory:()=>f,WorkflowInputParameterModel:()=>a,WorkflowModel:()=>r,WorkflowOutputParameterModel:()=>l,WorkflowStepInputModel:()=>c,WorkflowStepModel:()=>i,WorkflowStepOutputModel:()=>d,default:()=>p});class n{constructor(t={}){this.id=t.id||"",this.label=t.label||"",this.doc=t.doc||"",this.cwlVersion=t.cwlVersion||"v1.0"}serialize(){return JSON.stringify(this)}}class r extends n{constructor(t={}){super(t),this.class="Workflow",this.inputs=t.inputs||[],this.outputs=t.outputs||[],this.steps=t.steps||[],this.requirements=t.requirements||[],this.hints=t.hints||[]}addStep(t){this.steps.push(t)}getStep(t){return this.steps.find(e=>e.id===t)}}class i extends n{constructor(t={}){super(t),this.run=t.run||"",this.in=t.in||[],this.out=t.out||[],this.scatter=t.scatter||null,this.when=t.when||null}}class s extends n{constructor(t={}){super(t),this.class="CommandLineTool",this.baseCommand=t.baseCommand||[],this.arguments=t.arguments||[],this.inputs=t.inputs||[],this.outputs=t.outputs||[],this.requirements=t.requirements||[],this.hints=t.hints||[]}}class a extends n{constructor(t={}){super(t),this.type=t.type||"string",this.default=t.default||null,this.format=t.format||null,this.streamable=t.streamable||!1}}class l extends n{constructor(t={}){super(t),this.type=t.type||"string",this.outputSource=t.outputSource||null,this.linkMerge=t.linkMerge||null,this.format=t.format||null}}class c extends n{constructor(t={}){super(t),this.source=t.source||null,this.linkMerge=t.linkMerge||null,this.default=t.default||null,this.valueFrom=t.valueFrom||null}}class d extends n{constructor(t={}){super(t),this.id=t.id||""}}class u extends n{constructor(t={}){super(t),this.type=t.type||"string",this.inputBinding=t.inputBinding||null,this.default=t.default||null,this.format=t.format||null}}class h extends n{constructor(t={}){super(t),this.type=t.type||"string",this.outputBinding=t.outputBinding||null,this.format=t.format||null}}class f{static createModel(t){if(!t||"object"!=typeof t)return null;switch(t.class){case"Workflow":return new r(t);case"CommandLineTool":return new s(t);default:return new n(t)}}static createWorkflow(t){return new r(t)}static createCommandLineTool(t){return new s(t)}}const p={CWLModel:n,WorkflowModel:r,WorkflowStepModel:i,CommandLineToolModel:s,WorkflowInputParameterModel:a,WorkflowOutputParameterModel:l,WorkflowStepInputModel:c,WorkflowStepOutputModel:d,CommandInputParameterModel:u,CommandOutputParameterModel:h,ModelFactory:f}},319:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(547),a=o(239),l=o(589),c=o(465),d=o(427),u=o(430),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.snapRadius=120,e.css={plugin:"__plugin-port-drag",snap:"__port-drag-snap",dragging:"__port-drag-dragging",suggestion:"__port-drag-suggestion"},e.detachDragListenerFn=void 0,e.wheelPrevent=function(t){return t.stopPropagation()},e.ghostX=0,e.ghostY=0,e}return r(e,t),e.prototype.registerWorkflow=function(e){t.prototype.registerWorkflow.call(this,e),this.panner=new u.EdgePanner(this.workflow),this.workflow.svgRoot.classList.add(this.css.plugin)},e.prototype.afterRender=function(){this.workflow.editingEnabled&&this.attachPortDrag()},e.prototype.onEditableStateChange=function(t){t?this.attachPortDrag():this.detachPortDrag()},e.prototype.destroy=function(){this.detachPortDrag()},e.prototype.detachPortDrag=function(){"function"==typeof this.detachDragListenerFn&&this.detachDragListenerFn(),this.detachDragListenerFn=void 0},e.prototype.attachPortDrag=function(){this.detachPortDrag(),this.detachDragListenerFn=this.workflow.domEvents.drag(".port",this.onMove.bind(this),this.onMoveStart.bind(this),this.onMoveEnd.bind(this))},e.prototype.onMove=function(t,e,o,n){var r=this;document.addEventListener("mousewheel",this.wheelPrevent,!0);var i=this.workflow.transformScreenCTMtoCanvas(o.clientX,o.clientY),s=this.workflow.scale,a=(t-this.lastMouseMove.x)/s,l=(e-this.lastMouseMove.y)/s;this.panner.triggerCollisionDetection(o.clientX,o.clientY,function(t,e){r.ghostX+=t,r.ghostY+=e,r.translateGhostNode(r.ghostX,r.ghostY),r.updateEdge(r.portOnCanvas.x,r.portOnCanvas.y,r.ghostX,r.ghostY)});var d=c.Geometry.distance(this.nodeCoords.x,this.nodeCoords.y,i.x,i.y),u=this.findClosestPort(i.x,i.y);this.updateSnapPort(u.portEl,u.distance),this.ghostX+=a,this.ghostY+=l,this.translateGhostNode(this.ghostX,this.ghostY),this.updateGhostNodeVisibility(d,u.distance),this.updateEdge(this.portOnCanvas.x,this.portOnCanvas.y,this.ghostX,this.ghostY),this.lastMouseMove={x:t,y:e}},e.prototype.onMoveStart=function(t,e){this.lastMouseMove={x:0,y:0},this.originPort=e;var o=e.getScreenCTM();this.portOnCanvas=this.workflow.transformScreenCTMtoCanvas(o.e,o.f),this.ghostX=this.portOnCanvas.x,this.ghostY=this.portOnCanvas.y,this.boundingClientRect=this.workflow.svgRoot.getBoundingClientRect();var n=this.workflow.findParent(e).transform.baseVal.getItem(0).matrix;this.nodeCoords={x:n.e,y:n.f};var r=this.workflow.workflow;this.portType=e.classList.contains("input-port")?"input":"output",this.ghostNode=this.createGhostNode(this.portType),r.appendChild(this.ghostNode),this.edgeGroup=d.Edge.spawn(),this.edgeGroup.classList.add(this.css.dragging),r.appendChild(this.edgeGroup),this.workflow.svgRoot.classList.add(this.css.dragging),this.portOrigins=this.getPortCandidateTransformations(e),this.highlightSuggestedPorts(e.getAttribute("data-connection-id"))},e.prototype.onMoveEnd=function(t){document.removeEventListener("mousewheel",this.wheelPrevent,!0),this.panner.stop();var e=this.ghostNode.getAttribute("data-type"),o=!this.ghostNode.classList.contains("hidden"),n=void 0!==this.snapPort,r=o&&"input"===e,i=o&&"output"===e,s=this.originPort.getAttribute("data-connection-id");if(n)this.createEdgeBetweenPorts(this.originPort,this.snapPort);else if(r||i){var a=this.workflow.transformScreenCTMtoCanvas(t.clientX,t.clientY),l={"sbg:x":a.x,"sbg:y":a.y};r?this.workflow.model.createInputFromPort(s,{customProps:l}):this.workflow.model.createOutputFromPort(s,{customProps:l})}this.cleanMemory(),this.cleanStyles()},e.prototype.updateSnapPort=function(t,e){var o=t!==this.snapPort,n=e>this.snapRadius;if(this.snapPort&&(o||n)){var r=this.workflow.findParent(this.snapPort);this.snapPort.classList.remove(this.css.snap),r.classList.remove(this.css.snap),delete this.snapPort}if(!(e>this.snapRadius)){var i=this.originPort.getAttribute("data-connection-id"),s=t.getAttribute("data-connection-id");if(this.findEdge(i,s))delete this.snapPort;else{this.snapPort=t;var a=this.workflow.findParent(t),l="input"===this.portType?"output":"input";t.classList.add(this.css.snap),a.classList.add(this.css.snap),a.classList.add(this.css.snap+"-"+l)}}},e.prototype.updateEdge=function(t,e,o,n){var r,s,l=this.edgeGroup.children;try{for(var c=i(l),d=c.next();!d.done;d=c.next()){var u=d.value,h=a.Workflow.makeConnectionPath(t,e,o,n,"input"===this.portType?"left":"right");u.setAttribute("d",h)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(r)throw r.error}}},e.prototype.updateGhostNodeVisibility=function(t,e){var o=this.ghostNode.classList.contains("hidden"),n=t>this.snapRadius&&e>this.snapRadius;n&&o?this.ghostNode.classList.remove("hidden"):n||o||this.ghostNode.classList.add("hidden")},e.prototype.translateGhostNode=function(t,e){this.ghostNode.transform.baseVal.getItem(0).setTranslate(t,e)},e.prototype.getPortCandidateTransformations=function(t){var e,o,n='.node:not([data-connection-id="'+this.workflow.findParent(t).getAttribute("data-connection-id")+'"]) .port.'+("input"===this.portType?"output":"input")+"-port",r=this.workflow.workflow.querySelectorAll(n),s=new Map;try{for(var a=i(r),l=a.next();!l.done;l=a.next()){var d=l.value;s.set(d,c.Geometry.getTransformToElement(d,this.workflow.workflow))}}catch(t){e={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(e)throw e.error}}return s},e.prototype.highlightSuggestedPorts=function(t){for(var e=this.workflow.model.gatherValidConnectionPoints(t),o=0;o<e.length;o++){var n=e[o];if(n.isVisible){var r='.port[data-connection-id="'+n.connectionId+'"]',i=this.workflow.workflow.querySelector(r);this.workflow.findParent(i).classList.add(this.css.suggestion),i.classList.add(this.css.suggestion)}}},e.prototype.createGhostNode=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.setAttribute("transform","matrix(1,0,0,1,0,0)"),e.setAttribute("data-type",t),e.classList.add("ghost"),e.classList.add("node"),e.innerHTML='<circle class="ghost-circle" cx="0" cy="0" r="'+l.GraphNode.radius/1.5+'"></circle>',e},e.prototype.findClosestPort=function(t,e){var o=void 0,n=1/0;return this.portOrigins.forEach(function(r,i){var s=c.Geometry.distance(t,e,r.e,r.f);s<n&&(o=i,n=s)}),{portEl:o,distance:n}},e.prototype.cleanMemory=function(){this.edgeGroup.remove(),this.ghostNode.remove(),this.snapPort=void 0,this.edgeGroup=void 0,this.nodeCoords=void 0,this.originPort=void 0,this.portOrigins=void 0,this.boundingClientRect=void 0},e.prototype.cleanStyles=function(){for(var t in this.workflow.svgRoot.classList.remove(this.css.dragging),this.css){var e=this.workflow.svgRoot.querySelectorAll("."+this.css[t]);try{for(var o=i(e),n=o.next();!n.done;n=o.next())n.value.classList.remove(this.css[t])}catch(t){r={error:t}}finally{try{n&&!n.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}}var r,s},e.prototype.createEdgeBetweenPorts=function(t,e){var o=t.getAttribute("data-connection-id"),n=e.getAttribute("data-connection-id");if(o.startsWith("in")){var r=o;o=n,n=r}this.workflow.model.connect(o,n)},e.prototype.findEdge=function(t,e){var o='[data-source-connection="'+t+'"][data-destination-connection="'+e+'"]',n='[data-source-connection="'+e+'"][data-destination-connection="'+t+'"]';return this.workflow.workflow.querySelector(o+","+n)},e}(s.PluginBase);e.SVGPortDragPlugin=h},427:function(t,e,o){"use strict";var n=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},r=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(465),s=o(564),a=o(759),l=function(){function t(){}return t.makeTemplate=function(t,e,o){if(!t.isVisible||"Step"===t.source.type||"Step"===t.destination.type)return"";var r=n(t.source.id.split("/"),3),i=(r[0],r[1]),s=r[2],l=n(t.destination.id.split("/"),3),c=(l[0],l[1]),d=l[2],u=e.querySelector('.node[data-id="'+i+'"] .output-port[data-port-id="'+s+'"] .io-port'),h=e.querySelector('.node[data-id="'+c+'"] .input-port[data-port-id="'+d+'"] .io-port');if(t.source.type!==t.destination.type)if(u){if(h){var f=u.getCTM(),p=h.getCTM(),g=e.transform.baseVal.getItem(0).matrix,v=a.Workflow.makeConnectionPath((f.e-g.e)/f.a,(f.f-g.f)/f.a,(p.e-g.e)/f.a,(p.f-g.f)/f.a);return'\n            <g tabindex="-1" class="edge '+o+'"\n               data-source-port="'+s+'"\n               data-destination-port="'+d+'"\n               data-source-node="'+i+'"\n               data-source-connection="'+t.source.id+'"\n               data-destination-connection="'+t.destination.id+'"\n               data-destination-node="'+c+'">\n                <path class="sub-edge outer" d="'+v+'"></path>\n                <path class="sub-edge inner" d="'+v+'"></path>\n            </g>\n        '}console.error("Destination vertex not found for edge "+t.destination.id,t)}else console.error("Source vertex not found for edge "+t.source.id,t);else console.error("Can't update edge between nodes of the same type.",t)},t.spawn=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var o=document.createElementNS("http://www.w3.org/2000/svg","g"),r=n((e.source||"//").split("/"),3),i=(r[0],r[1]),s=r[2],a=n((e.destination||"//").split("/"),3),l=(a[0],a[1]),c=a[2];return o.classList.add("edge"),i&&o.classList.add(i),l&&o.classList.add(l),o.setAttribute("tabindex","-1"),o.setAttribute("data-destination-node",l),o.setAttribute("data-destination-port",c),o.setAttribute("data-source-port",s),o.setAttribute("data-source-node",i),o.setAttribute("data-source-connection",e.source),o.setAttribute("data-destination-connection",e.destination),o.innerHTML='\n            <path class="sub-edge outer" d="'+t+'"></path>\n            <path class="sub-edge inner" d="'+t+'"></path>\n        ',o},t.spawnBetweenConnectionIDs=function(e,o,n){if(o.startsWith("in")){var a=o;o=n,n=a}var l=e.querySelector('.port[data-connection-id="'+o+'"]'),c=e.querySelector('.port[data-connection-id="'+n+'"]'),d=i.Geometry.getTransformToElement(l,e),u=i.Geometry.getTransformToElement(c,e),h=s.IOPort.makeConnectionPath(d.e,d.f,u.e,u.f),f=e.querySelector('.edge[data-source-connection="'+o+'"][data-destination-connection="'+n+'"]');if(f){console.log("Updating existing edge");try{for(var p=r(f.querySelectorAll(".sub-edge")),g=p.next();!g.done;g=p.next())g.value.setAttribute("d",h)}catch(t){v={error:t}}finally{try{g&&!g.done&&(w=p.return)&&w.call(p)}finally{if(v)throw v.error}}return f}var v,w,y=t.spawn(h,{source:o,destination:n}),m=e.querySelector(".node");return e.insertBefore(y,m),y},t.findEdge=function(t,e,o){return t.querySelector('[data-source-connection="'+e+'"][data-destination-connection="'+o+'"]')},t.parseConnectionID=function(t){var e=n((t||"//").split("/"),3);return{side:e[0],stepID:e[1],portID:e[2]}},t}();e.Edge=l},430:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===e&&(e={scrollMargin:100,movementSpeed:10}),this.movementSpeed=10,this.scrollMargin=100,this.collision={x:0,y:0},this.panningCallback=function(t,e){};var o=Object.assign({scrollMargin:100,movementSpeed:10},e);this.workflow=t,this.scrollMargin=o.scrollMargin,this.movementSpeed=o.movementSpeed,this.viewportClientRect=this.workflow.svgRoot.getBoundingClientRect()}return t.prototype.triggerCollisionDetection=function(t,e,o){var n={x:0,y:0};this.panningCallback=o;var r=this.viewportClientRect,i=r.left,s=r.right,a=r.top,l=r.bottom;if(i+=this.scrollMargin,s-=this.scrollMargin,a+=this.scrollMargin,l-=this.scrollMargin,t<i?n.x=t-i:t>s&&(n.x=t-s),e<a?n.y=e-a:e>l&&(n.y=e-l),Math.sign(n.x)!==Math.sign(this.collision.x)||Math.sign(n.y)!==Math.sign(this.collision.y)){var c=this.collision;this.collision=n,this.onBoundaryCollisionChange(n,c)}},t.prototype.onBoundaryCollisionChange=function(t,e){this.stop(),0===t.x&&0===t.y||this.start(this.collision)},t.prototype.start=function(t){var e,o=this,n=this.workflow.scale,r=this.workflow.workflow.transform.baseVal.getItem(0).matrix,i=16.6666,s=function(a){var l=a-(e||a);if(e=a,0===l||o.panAnimationFrame){var c=Math.sign(t.x)*o.movementSpeed*l/i,d=Math.sign(t.y)*o.movementSpeed*l/i;r.e-=c,r.f-=d;var u=c/n,h=d/n;o.panningCallback(u,h),o.panAnimationFrame=window.requestAnimationFrame(s)}else e=void 0};this.panAnimationFrame=window.requestAnimationFrame(s)},t.prototype.stop=function(){window.cancelAnimationFrame(this.panAnimationFrame),this.panAnimationFrame=void 0},t}();e.EdgePanner=o},465:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.distance=function(t,e,o,n){return Math.sqrt(Math.pow(o-t,2)+Math.pow(n-e,2))},t.getTransformToElement=function(t,e){var o=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),t.ownerSVGElement){var r=t.transform.baseVal.getItem(0).matrix,i=r.e,s=r.f;return o(t.parentNode,i+e,s+n)}var a=t.createSVGMatrix();return a.e=e,a.f=n,a},n=o(e),r=o(t),i=t.ownerSVGElement.createSVGMatrix();return i.e=n.e-r.e,i.f=n.f-r.f,i.inverse()},t}();e.Geometry=o},510:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.parse=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t,e.firstElementChild},t}();e.TemplateParser=o},547:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.registerWorkflow=function(t){this.workflow=t},t.prototype.registerOnBeforeChange=function(t){this.onBeforeChange=t},t.prototype.registerOnAfterChange=function(t){this.onAfterChange=t},t.prototype.registerOnAfterRender=function(t){this.onAfterRender=t},t}();e.PluginBase=o},558:(t,e,o)=>{"use strict";function n(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}Object.defineProperty(e,"__esModule",{value:!0}),n(o(759)),n(o(669)),n(o(319)),n(o(187)),n(o(237)),n(o(55)),n(o(961)),n(o(771)),n(o(99)),n(o(705)),n(o(629)),n(o(547))},564:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.makeConnectionPath=function(t,e,o,n,r){return void 0===r&&(r="right"),r?"right"===r?"M "+t+" "+e+" C "+(t+Math.abs(t-o)/2)+" "+e+" "+(o-Math.abs(t-o)/2)+" "+n+" "+o+" "+n:"left"===r?"M "+t+" "+e+" C "+(t-Math.abs(t-o)/2)+" "+e+" "+(o+Math.abs(t-o)/2)+" "+n+" "+o+" "+n:void 0:"M "+t+" "+e+" C "+(t+o)/2+" "+e+" "+(t+o)/2+" "+n+" "+o+" "+n},t.radius=7,t}();e.IOPort=o},567:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.root=t,this.handlers=new Map}return t.prototype.on=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=e.shift(),r="string"==typeof e[0]?e.shift():void 0,i="function"==typeof e[0]?e.shift():function(){},s=e.shift()||this.root;this.handlers.has(s)||this.handlers.set(s,{}),this.handlers.get(s)[n]||(this.handlers.get(s)[n]=[]);var a=function(e){var o;if(r){var n=Array.from(t.root.querySelectorAll(r));for(o=e.target;o&&!n.find(function(t){return t===o});)o=o.parentNode;if(!o)return}return i(e,o||e.target,t.root),!1};return s.addEventListener(n,a),this.handlers.get(s)[n].push(a),function(){s.removeEventListener(n,a)}},t.prototype.keyup=function(){},t.prototype.adaptedDrag=function(t,e,o,n){var r,i,s,a,l=this,c=!1,d=0,u=this.on("mousedown",t,function(t,e){return c=!0,r=t,i=e,s=t,t.preventDefault(),a=l.detachHandlers("mouseover"),document.addEventListener("mousemove",h),document.addEventListener("mouseup",f),!1}),h=function(t){if(c){var n=t.screenX-r.screenX,a=t.screenY-r.screenY;3===++d&&"function"==typeof o&&o(s,i,l.root),d>=3&&"function"==typeof e&&e(n,a,t,i,l.root)}},f=function(t){if(d>=3){c&&"function"==typeof n&&n(t,i,l.root);var e=i.parentNode,o=function(t){t.stopPropagation(),e.removeEventListener("click",o,!0)};e.addEventListener("click",o,!0)}for(var s in c=!1,i=void 0,r=void 0,d=0,document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",h),a)l.root.addEventListener("mouseover",a[s]),l.handlers.get(l.root).mouseover=[],l.handlers.get(l.root).mouseover.push(a[s])};return u},t.prototype.drag=function(t,e,o,n){var r,i,s,a,l=this,c=!1,d=0,u=this.on("mousedown",t,function(t,e,o){return c=!0,r=t,i=e,s=t,t.preventDefault(),a=l.detachHandlers("mouseover"),document.addEventListener("mousemove",h),document.addEventListener("mouseup",f),!1}),h=function(t){if(c){var n=t.screenX-r.screenX,a=t.screenY-r.screenY;3===++d&&"function"==typeof o&&o(s,i,l.root),d>=3&&"function"==typeof e&&e(n,a,t,i,l.root)}},f=function(t){if(d>=3&&(c&&"function"==typeof n&&n(t,i,l.root),i.contains(t.target))){var e=i.parentNode,o=function(t){t.stopPropagation(),e.removeEventListener("click",o,!0)};e.addEventListener("click",o,!0)}for(var s in c=!1,i=void 0,r=void 0,d=0,document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",h),a)l.root.addEventListener("mouseover",a[s]),l.handlers.get(l.root).mouseover=[],l.handlers.get(l.root).mouseover.push(a[s])};return u},t.prototype.hover=function(t,e,o,n){var r=this;void 0===e&&(e=function(){}),void 0===o&&(o=function(){}),void 0===n&&(n=function(){});var i=!1;t.addEventListener("mouseenter",function(e){i=!0,o(e,t,r.root)}),t.addEventListener("mouseleave",function(e){i=!1,n(e,t,r.root)}),t.addEventListener("mousemove",function(o){i&&e(o,t,r.root)})},t.prototype.detachHandlers=function(t,e){e=e||this.root;var o=[];return this.handlers.forEach(function(n,r){if(r.id===e.id&&r===e){var i=function(e){if(e!==t)return"continue";n[e].forEach(function(t){o.push(t),r.removeEventListener(e,t)})};for(var s in n)i(s)}}),delete this.handlers.get(this.root)[t],o},t.prototype.detachAll=function(){this.handlers.forEach(function(t,e){var o=function(o){t[o].forEach(function(t){return e.removeEventListener(o,t)})};for(var n in t)o(n)}),this.handlers.clear()},t}();e.DomEvents=o},589:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(256),r=o(784),i=o(695),s=o(564),a=function(){function t(t,e){this.dataModel=e,this.position={x:0,y:0},this.dataModel=e,Object.assign(this.position,t)}return t.makeIconFragment=function(t){var e="";return t instanceof n.StepModel&&t.run?"Workflow"===t.run.class?e=this.workflowIconSvg:"CommandLineTool"===t.run.class&&(e=this.toolIconSvg):t instanceof n.WorkflowInputParameterModel&&t.type?e="File"===t.type.type||"array"===t.type.type&&"File"===t.type.items?this.fileInputIconSvg:this.inputIconSvg:t instanceof n.WorkflowOutputParameterModel&&t.type&&(e="File"===t.type.type||"array"===t.type.type&&"File"===t.type.items?this.fileOutputIconSvg:this.outputIconSvg),e},t.makeTemplate=function(e,o){void 0===o&&(o=1);var a=~~(e.customProps&&e.customProps["sbg:x"]),l=~~(e.customProps&&e.customProps["sbg:y"]),c="step";e instanceof n.WorkflowInputParameterModel?c="input":e instanceof n.WorkflowOutputParameterModel&&(c="output");var d=(e.in||[]).filter(function(t){return t.isVisible}),u=(e.out||[]).filter(function(t){return t.isVisible}),h=Math.max(d.length,u.length),f=t.radius+h*s.IOPort.radius,p="",g="";e.type&&(p="type-"+e.type.type,e.type.items&&(g="items-"+e.type.items));var v=d.sort(function(t,e){return-t.id.localeCompare(e.id)}).map(function(e,o,n){return t.makePortTemplate(e,"input",i.SVGUtils.matrixToTransformAttr(t.createPortMatrix(n.length,o,f,"input")))}).reduce(function(t,e){return t+e},""),w=u.sort(function(t,e){return-t.id.localeCompare(e.id)}).map(function(e,o,n){return t.makePortTemplate(e,"output",i.SVGUtils.matrixToTransformAttr(t.createPortMatrix(n.length,o,f,"output")))}).reduce(function(t,e){return t+e},"");return'\n            <g tabindex="-1" class="node '+c+" "+p+" "+g+'"\n               data-connection-id="'+r.HtmlUtils.escapeHTML(e.connectionId)+'"\n               transform="matrix(1, 0, 0, 1, '+a+", "+l+')"\n               data-id="'+r.HtmlUtils.escapeHTML(e.id)+'">\n               \n                <g class="core" transform="matrix(1, 0, 0, 1, 0, 0)">\n                    <circle cx="0" cy="0" r="'+f+'" class="outer"></circle>\n                    <circle cx="0" cy="0" r="'+.75*f+'" class="inner"></circle>\n                    \n                    '+t.makeIconFragment(e)+'\n                </g>\n                \n                <text transform="matrix('+o+",0,0,"+o+",0,"+(f+30)+')" class="title label">'+r.HtmlUtils.escapeHTML(e.label||e.id)+"</text>\n                \n                "+v+"\n                "+w+"\n            </g>\n        "},t.makePortTemplate=function(t,e,o){void 0===o&&(o="matrix(1, 0, 0, 1, 0, 0)");var n="input"===e?"input-port":"output-port",i=r.HtmlUtils.escapeHTML(t.label||t.id);return'\n            <g class="port '+n+'" transform="'+(o||"matrix(1, 0, 0, 1, 0, 0)")+'"\n               data-connection-id="'+r.HtmlUtils.escapeHTML(t.connectionId)+'"\n               data-port-id="'+r.HtmlUtils.escapeHTML(t.id)+'"\n            >\n                <g class="io-port">\n                    <circle cx="0" cy="0" r="7" class="port-handle"></circle>\n                </g>\n                <text x="0" y="0" transform="matrix(1,0,0,1,0,0)" class="label unselectable">'+i+"</text>\n            </g>\n            \n        "},t.createPortMatrix=function(t,e,o,n){var r=140*(e+1)/(t+1)-70;return"input"===n&&(r=250-140*(e+1)/(t+1)),i.SVGUtils.createMatrix().rotate(r).translate(o,0).rotate(-r)},t.patchModelPorts=function(t){var e=[{connectionId:t.connectionId,isVisible:!0,id:t.id}];if(t instanceof n.WorkflowInputParameterModel){var o=Object.create(t);return Object.assign(o,{out:e})}return t instanceof n.WorkflowOutputParameterModel?(o=Object.create(t),Object.assign(o,{in:e})):t},t.radius=30,t.workflowIconSvg='<svg class="node-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400.01 399.88" x="-9" y="-10" width="20" height="20"><title>workflow</title><path d="M400,200a80,80,0,0,1-140.33,52.53L158.23,303.24a80,80,0,1,1-17.9-35.77l101.44-50.71a80.23,80.23,0,0,1,0-33.52L140.33,132.53a79.87,79.87,0,1,1,17.9-35.77l101.44,50.71A80,80,0,0,1,400,200Z" transform="translate(0.01 -0.16)"/></svg>',t.toolIconSvg='<svg class="node-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 398.39 397.78" x="-10" y="-8" width="20" height="15"><title>tool2</title><polygon points="38.77 397.57 0 366 136.15 198.78 0 31.57 38.77 0 200.63 198.78 38.77 397.57"/><rect x="198.39" y="347.78" width="200" height="50"/></svg>',t.fileInputIconSvg='<svg class="node-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 499 462.86" y="-10" x="-11" width="20" height="20"><title>file_input</title><path d="M386.06,0H175V58.29l50,50V50H337.81V163.38h25l86.19.24V412.86H225V353.71l-50,50v59.15H499V112.94Zm1.75,113.45v-41l41.1,41.1Z"/><polygon points="387.81 1.06 387.81 1.75 387.12 1.06 387.81 1.06"/><polygon points="290.36 231 176.68 344.68 141.32 309.32 194.64 256 0 256 0 206 194.64 206 142.32 153.68 177.68 118.32 290.36 231"/></svg>',t.fileOutputIconSvg='<svg class="node-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 499 462.86" x="-7" y="-11" width="20" height="20"><title>file_output</title><polygon points="387.81 1.06 387.81 1.75 387.12 1.06 387.81 1.06"/><polygon points="499 231 385.32 344.68 349.96 309.32 403.28 256 208.64 256 208.64 206 403.28 206 350.96 153.68 386.32 118.32 499 231"/><path d="M187.81,163.38l77.69.22H324V112.94L211.06,0H0V462.86H324V298.5H274V412.86H50V50H162.81V163.38Zm25-90.92,41.1,41.1-41.1-.11Z"/></svg>',t.inputIconSvg='<svg class="node-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 499 365" x="-11" y="-10" width="20" height="20"><title>type_input</title><g id="input"><path d="M316.5,68a181.72,181.72,0,0,0-114.12,40.09L238,143.72a132.5,132.5,0,1,1,1.16,214.39L203.48,393.8A182.5,182.5,0,1,0,316.5,68Z" transform="translate(0 -68)"/><g id="Layer_22" data-name="Layer 22"><g id="Layer_9_copy_4" data-name="Layer 9 copy 4"><polygon points="290.36 182 176.68 295.68 141.32 260.32 194.64 207 0 207 0 157 194.64 157 142.32 104.68 177.68 69.32 290.36 182"/></g></g></g></svg>',t.outputIconSvg='<svg class="node-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500.36 365" x="-9" y="-10" width="20" height="20"><title>type_output</title><g id="output"><path d="M291.95,325.23a134,134,0,0,1-15.76,19,132.5,132.5,0,1,1,0-187.38,133.9,133.9,0,0,1,16.16,19.55l35.81-35.81A182.5,182.5,0,1,0,327.73,361Z" transform="translate(0 -68)"/><g id="circle_source_copy" data-name="circle source copy"><g id="Layer_22_copy" data-name="Layer 22 copy"><g id="Layer_9_copy_5" data-name="Layer 9 copy 5"><polygon points="500.36 182 386.68 295.68 351.32 260.32 404.64 207 210 207 210 157 404.64 157 352.32 104.68 387.68 69.32 500.36 182"/></g></g></g></g></svg>',t}();e.GraphNode=a},629:function(t,e){"use strict";var o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.containerElements=["svg","g"],this.embeddableStyles={rect:["fill","stroke","stroke-width"],path:["fill","stroke","stroke-width"],circle:["fill","stroke","stroke-width"],line:["stroke","stroke-width"],text:["fill","font-size","text-anchor","font-family"],polygon:["stroke","fill"]},this.svg=t}return t.prototype.dump=function(t){var e=(void 0===t?{padding:50}:t).padding;this.adaptViewbox(this.svg,e);var n=this.svg.cloneNode(!0),r=n.querySelectorAll(".port .label");try{for(var i=o(r),s=i.next();!s.done;s=i.next()){var a=s.value;a.parentNode.removeChild(a)}}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}}this.treeShakeStyles(n,this.svg);var l,c,d=n.querySelector(".pan-handle");return d&&n.removeChild(d),(new XMLSerializer).serializeToString(n)},t.prototype.adaptViewbox=function(t,e){void 0===e&&(e=50);var o=t.querySelector(".workflow").getBoundingClientRect(),n=this.getPointOnSVG(o.left,o.top),r=this.svg.viewBox.baseVal;r.x=n.x-e/2,r.y=n.y-e/2,r.height=o.height+e,r.width=o.width+e},t.prototype.getPointOnSVG=function(t,e){var o=this.svg.getScreenCTM(),n=this.svg.createSVGPoint();return n.x=t,n.y=e,n.matrixTransform(o.inverse())},t.prototype.treeShakeStyles=function(t,e){for(var o=t.childNodes,n=e.childNodes,r=0;r<o.length;r++){var i=o[r],s=i.tagName;if(-1!==this.containerElements.indexOf(s))this.treeShakeStyles(i,n[r]);else if(s in this.embeddableStyles){for(var a=window.getComputedStyle(n[r]),l="",c=0;c<this.embeddableStyles[s].length;c++)l+=this.embeddableStyles[s][c]+":"+a.getPropertyValue(this.embeddableStyles[s][c])+"; ";i.setAttribute("style",l)}}},t}();e.SvgDumper=n},669:function(t,e,o){"use strict";var n=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(427),a=o(589),l=o(510),c=function(){function t(t,e){this.stepEl=t,this.svg=t.ownerSVGElement,this.model=e}return t.prototype.update=function(){var t=a.GraphNode.makeTemplate(this.model),e=l.TemplateParser.parse(t);this.stepEl.innerHTML=e.innerHTML;var o,n,c=this.svg.querySelectorAll('.edge[data-destination-node="'+this.model.connectionId+'"]'),d=this.svg.querySelectorAll('.edge[data-source-node="'+this.model.connectionId+'"]');try{for(var u=i(r(c,d)),h=u.next();!h.done;h=u.next()){var f=h.value;s.Edge.spawnBetweenConnectionIDs(this.svg.querySelector(".workflow"),f.getAttribute("data-source-connection"),f.getAttribute("data-destination-connection"))}}catch(t){o={error:t}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(o)throw o.error}}console.log("Should redraw input port",c)},t}();e.StepNode=c},695:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.matrixToTransformAttr=function(t){return"matrix("+t.a+", "+t.b+", "+t.c+", "+t.d+", "+t.e+", "+t.f+")"},t.createMatrix=function(){return document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()},t}();e.SVGUtils=o},705:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s};Object.defineProperty(e,"__esModule",{value:!0});var s=o(547),a=o(771),l=o(256),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundDeleteFunction=e.onDelete.bind(e),e}return r(e,t),e.prototype.afterRender=function(){this.attachDeleteBehavior()},e.prototype.onEditableStateChange=function(t){t?this.attachDeleteBehavior():this.detachDeleteBehavior()},e.prototype.attachDeleteBehavior=function(){this.detachDeleteBehavior(),window.addEventListener("keyup",this.boundDeleteFunction,!0)},e.prototype.detachDeleteBehavior=function(){window.removeEventListener("keyup",this.boundDeleteFunction,!0)},e.prototype.onDelete=function(t){(8===t.which||46===t.which)&&t.target instanceof SVGElement&&this.deleteSelection()},e.prototype.deleteSelection=function(){var t=this,e=this.workflow.getPlugin(a.SelectionPlugin);e&&this.workflow.editingEnabled&&e.getSelection().forEach(function(o,n){if("node"===o){var r=t.workflow.model.findById(n);r instanceof l.StepModel?(t.workflow.model.removeStep(r),e.clearSelection()):r instanceof l.WorkflowInputParameterModel?(t.workflow.model.removeInput(r),e.clearSelection()):r instanceof l.WorkflowOutputParameterModel&&(t.workflow.model.removeOutput(r),e.clearSelection())}else{var s=i(n.split(a.SelectionPlugin.edgePortsDelimiter),2),c=s[0],d=s[1];t.workflow.model.disconnect(c,d),e.clearSelection()}})},e.prototype.destroy=function(){this.detachDeleteBehavior()},e}(s.PluginBase);e.DeletionPlugin=c},759:function(t,e,o){"use strict";var n=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(567),a=o(159),l=o(427),c=o(589),d=o(669),u=o(510),h=function(){function t(t){var e=this;this.svgID=this.makeID(),this.minScale=.2,this.maxScale=2,this.editingEnabled=!0,this.labelScale=1,this.plugins=[],this.disposers=[],this.pendingFirstDraw=!0,this.isDestroyed=!1,this._scale=1,this.svgRoot=t.svgRoot,this.plugins=t.plugins||[],this.domEvents=new s.DomEvents(this.svgRoot),this.model=t.model,this.editingEnabled=!1!==t.editingEnabled,this.svgRoot.classList.add(this.svgID),this.svgRoot.innerHTML='\n            <rect x="0" y="0" width="100%" height="100%" class="pan-handle" transform="matrix(1,0,0,1,0,0)"></rect>\n            <g class="workflow" transform="matrix(1,0,0,1,0,0)"></g>\n        ',this.workflow=this.svgRoot.querySelector(".workflow"),this.invokePlugins("registerWorkflow",this),this.eventHub=new a.EventHub(["connection.create","app.create.step","app.create.input","app.create.output","beforeChange","afterChange","afterRender","selectionChange"]),this.hookPlugins(),this.draw(t.model),this.eventHub.on("afterRender",function(){return e.invokePlugins("afterRender")})}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(t){this.workflowBoundingClientRect=this.svgRoot.getBoundingClientRect();var e=(this.workflowBoundingClientRect.right+this.workflowBoundingClientRect.left)/2,o=(this.workflowBoundingClientRect.top+this.workflowBoundingClientRect.bottom)/2;this.scaleAtPoint(t,e,o)},enumerable:!0,configurable:!0}),t.canDrawIn=function(t){return 0!==t.getBoundingClientRect().width},t.makeConnectionPath=function(t,e,o,n,r){return void 0===r&&(r="right"),r?"right"===r?"M "+t+" "+e+" C "+(t+Math.abs(t-o)/2)+" "+e+" "+(o-Math.abs(t-o)/2)+" "+n+" "+o+" "+n:"left"===r?"M "+t+" "+e+" C "+(t-Math.abs(t-o)/2)+" "+e+" "+(o+Math.abs(t-o)/2)+" "+n+" "+o+" "+n:void 0:"M "+t+" "+e+" C "+(t+o)/2+" "+e+" "+(t+o)/2+" "+n+" "+o+" "+n},t.prototype.draw=function(t){var e=this;void 0===t&&(t=this.model),this.assertNotDestroyed("draw");var o=this.workflow.getAttribute("transform");if(this.model!==t||this.pendingFirstDraw){this.pendingFirstDraw=!1,this.model=t;var n=this.model.on("step.change",this.onStepChange.bind(this)),s=this.model.on("step.create",this.onStepCreate.bind(this)),a=this.model.on("step.remove",this.onStepRemove.bind(this)),l=this.model.on("input.create",this.onInputCreate.bind(this)),d=this.model.on("input.remove",this.onInputRemove.bind(this)),u=this.model.on("output.create",this.onOutputCreate.bind(this)),h=this.model.on("output.remove",this.onOutputRemove.bind(this)),f=this.model.on("step.inPort.show",this.onInputPortShow.bind(this)),p=this.model.on("step.inPort.hide",this.onInputPortHide.bind(this)),g=this.model.on("connection.create",this.onConnectionCreate.bind(this)),v=this.model.on("connection.remove",this.onConnectionRemove.bind(this)),w=this.model.on("step.outPort.create",this.onOutputPortCreate.bind(this)),y=this.model.on("step.outPort.remove",this.onOutputPortRemove.bind(this));this.disposers.push(function(){n.dispose(),s.dispose(),a.dispose(),l.dispose(),d.dispose(),u.dispose(),h.dispose(),f.dispose(),p.dispose(),g.dispose(),v.dispose(),w.dispose(),y.dispose()}),this.invokePlugins("afterModelChange")}this.clearCanvas();var m,b,k=r(this.model.steps,this.model.inputs,this.model.outputs).filter(function(t){return t.isVisible}),S="";try{for(var P=i(k),x=P.next();!x.done;x=P.next()){var C=x.value,M=c.GraphNode.patchModelPorts(C);isNaN(parseInt(M.customProps["sbg:x"])),isNaN(parseInt(M.customProps["sbg:y"]));S+=c.GraphNode.makeTemplate(M)}}catch(t){m={error:t}}finally{try{x&&!x.done&&(b=P.return)&&b.call(P)}finally{if(m)throw m.error}}this.workflow.innerHTML+=S,this.redrawEdges(),Array.from(this.workflow.querySelectorAll(".node")).forEach(function(t){e.workflow.appendChild(t)}),this.addEventListeners(),this.workflow.setAttribute("transform",o),this.scaleAtPoint(this.scale),this.invokePlugins("afterRender")},t.prototype.findParent=function(t,e){void 0===e&&(e="node");for(var o=t;o;){if(o.classList.contains(e))return o;o=o.parentElement}},t.prototype.getPlugin=function(t){return this.plugins.find(function(e){return e instanceof t})},t.prototype.on=function(t,e){this.eventHub.on(t,e)},t.prototype.off=function(t,e){this.eventHub.off(t,e)},t.prototype.fitToViewport=function(t){void 0===t&&(t=!1),this.scaleAtPoint(1),Object.assign(this.workflow.transform.baseVal.getItem(0).matrix,{e:0,f:0});var e=this.svgRoot.getBoundingClientRect(),o=this.workflow.getBoundingClientRect();if(0===e.width||0===e.height)throw new Error("Cannot fit workflow to the area that has no visible viewport.");var n=o.height/(e.height-100),r=o.width/(e.width-100),i=Math.max(n,r),s=Math.min(this.scale/i,1);t||(s=Math.max(s,this.minScale)),this.scaleAtPoint(s);var a=this.workflow.getBoundingClientRect(),l=e.top-a.top+Math.abs(e.height-a.height)/2,c=e.left-a.left+Math.abs(e.width-a.width)/2,d=this.workflow.transform.baseVal.getItem(0).matrix;d.e+=c,d.f+=l},t.prototype.redrawEdges=function(){var t=this,e=new Set;Array.from(this.workflow.querySelectorAll(".edge")).forEach(function(t){if(t.classList.contains("highlighted")){var o=t.attributes["data-source-connection"].value+t.attributes["data-destination-connection"].value;e.add(o)}t.remove()});var o=this.model.connections.map(function(o){var n=o.source.id+o.destination.id,r=e.has(n)?"highlighted":"";return l.Edge.makeTemplate(o,t.workflow,r)}).reduce(function(t,e){return t+e},"");this.workflow.innerHTML=o+this.workflow.innerHTML},t.prototype.scaleAtPoint=function(t,e,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===o&&(o=0),this._scale=t,this.labelScale=1+(1-this._scale)/(2*this._scale);var n=this.workflow.transform.baseVal.getItem(0).matrix,r=this.transformScreenCTMtoCanvas(e,o);n.e+=n.a*r.x,n.f+=n.a*r.y,n.a=n.d=t,n.e-=t*r.x,n.f-=t*r.y;var s,a,l=this.workflow.querySelectorAll(".node .label");try{for(var c=i(l),d=c.next();!d.done;d=c.next()){var u=d.value.transform.baseVal.getItem(0).matrix;Object.assign(u,{a:this.labelScale,d:this.labelScale})}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}},t.prototype.transformScreenCTMtoCanvas=function(t,e){var o=this.svgRoot,n=this.workflow.getScreenCTM(),r=o.createSVGPoint();r.x=t,r.y=e;var i=r.matrixTransform(n.inverse());return{x:i.x,y:i.y}},t.prototype.enableEditing=function(t){this.invokePlugins("onEditableStateChange",t),this.editingEnabled=t},t.prototype.destroy=function(){this.svgRoot.classList.remove(this.svgID),this.clearCanvas(),this.eventHub.empty(),this.invokePlugins("destroy");try{for(var t=i(this.disposers),e=t.next();!e.done;e=t.next())(0,e.value)()}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}var o,n;this.isDestroyed=!0},t.prototype.resetTransform=function(){this.workflow.setAttribute("transform","matrix(1,0,0,1,0,0)"),this.scaleAtPoint()},t.prototype.assertNotDestroyed=function(t){if(this.isDestroyed)throw new Error("Cannot call the "+t+" method on a destroyed graph. Destroying this object removes DOM listeners, and reusing it would result in unexpected things not working. Instead, you can just call the “draw” method with a different model, or create a new Workflow object.")},t.prototype.addEventListeners=function(){var t,e,o,n;this.domEvents.drag(".pan-handle",function(t,r){n.e=e+t,n.f=o+r},function(r,i,s){t=s.querySelector(".workflow"),n=t.transform.baseVal.getItem(0).matrix,e=n.e,o=n.f},function(){t=void 0,n=void 0})},t.prototype.clearCanvas=function(){this.domEvents.detachAll(),this.workflow.innerHTML="",this.workflow.setAttribute("transform","matrix(1,0,0,1,0,0)"),this.workflow.setAttribute("class","workflow")},t.prototype.hookPlugins=function(){var t=this;this.plugins.forEach(function(e){e.registerOnBeforeChange(function(e){t.eventHub.emit("beforeChange",e)}),e.registerOnAfterChange(function(e){t.eventHub.emit("afterChange",e)}),e.registerOnAfterRender(function(e){t.eventHub.emit("afterRender",e)})})},t.prototype.invokePlugins=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.plugins.forEach(function(o){"function"==typeof o[t]&&o[t].apply(o,r(e))})},t.prototype.onConnectionCreate=function(t,e){if(t.isVisible&&e.isVisible){var o=t.connectionId,n=e.connectionId;l.Edge.spawnBetweenConnectionIDs(this.workflow,o,n)}},t.prototype.onConnectionRemove=function(t,e){if(t.isVisible&&e.isVisible){var o=t.connectionId,n=e.connectionId;this.svgRoot.querySelector('.edge[data-source-connection="'+o+'"][data-destination-connection="'+n+'"]').remove()}},t.prototype.onInputCreate=function(t){if(t.isVisible){var e=c.GraphNode.patchModelPorts(t),o=c.GraphNode.makeTemplate(e,this.labelScale),n=u.TemplateParser.parse(o);this.workflow.appendChild(n)}},t.prototype.onOutputCreate=function(t){if(t.isVisible){var e=c.GraphNode.patchModelPorts(t),o=c.GraphNode.makeTemplate(e,this.labelScale),n=u.TemplateParser.parse(o);this.workflow.appendChild(n)}},t.prototype.onStepCreate=function(t){!t.customProps["sbg:x"]&&t.run.customProps&&t.run.customProps["sbg:x"]&&(Object.assign(t.customProps,{"sbg:x":t.run.customProps["sbg:x"],"sbg:y":t.run.customProps["sbg:y"]}),delete t.run.customProps["sbg:x"],delete t.run.customProps["sbg:y"]);var e=c.GraphNode.makeTemplate(t,this.labelScale),o=u.TemplateParser.parse(e);this.workflow.appendChild(o)},t.prototype.onStepChange=function(t){var e=this.workflow.querySelector('.step[data-id="'+t.connectionId+'"] .title');e&&(e.textContent=t.label)},t.prototype.onInputPortShow=function(t){var e=this.svgRoot.querySelector('.step[data-connection-id="'+t.parentStep.connectionId+'"]');new d.StepNode(e,t.parentStep).update()},t.prototype.onInputPortHide=function(t){var e=this.svgRoot.querySelector('.step[data-connection-id="'+t.parentStep.connectionId+'"]');new d.StepNode(e,t.parentStep).update()},t.prototype.onOutputPortCreate=function(t){var e=this.svgRoot.querySelector('.step[data-connection-id="'+t.parentStep.connectionId+'"]');new d.StepNode(e,t.parentStep).update()},t.prototype.onOutputPortRemove=function(t){var e=this.svgRoot.querySelector('.step[data-connection-id="'+t.parentStep.connectionId+'"]');new d.StepNode(e,t.parentStep).update()},t.prototype.onStepRemove=function(t){this.svgRoot.querySelector('.step[data-connection-id="'+t.connectionId+'"]').remove()},t.prototype.onInputRemove=function(t){t.isVisible&&this.svgRoot.querySelector('.node.input[data-connection-id="'+t.connectionId+'"]').remove()},t.prototype.onOutputRemove=function(t){t.isVisible&&this.svgRoot.querySelector('.node.output[data-connection-id="'+t.connectionId+'"]').remove()},t.prototype.makeID=function(t){void 0===t&&(t=6);for(var e="",o=0;o<t;o++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return e},t}();e.Workflow=h},771:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}},s=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selection=new Map,e.cleanups=[],e.selectionChangeCallbacks=[],e.css={selected:"__selection-plugin-selected",highlight:"__selection-plugin-highlight",fade:"__selection-plugin-fade",plugin:"__plugin-selection"},e}return r(e,t),e.prototype.registerWorkflow=function(e){var o=this;t.prototype.registerWorkflow.call(this,e),this.svg=this.workflow.svgRoot,this.svg.classList.add(this.css.plugin);var n=this.onClick.bind(this);this.svg.addEventListener("click",n),this.cleanups.push(function(){return o.svg.removeEventListener("click",n)})},e.prototype.afterRender=function(){this.restoreSelection()},e.prototype.afterModelChange=function(){"function"==typeof this.detachModelEvents&&this.detachModelEvents(),this.detachModelEvents=this.bindModelEvents()},e.prototype.destroy=function(){this.detachModelEvents(),this.detachModelEvents=void 0,this.svg.classList.remove(this.css.plugin);try{for(var t=i(this.cleanups),e=t.next();!e.done;e=t.next())(0,e.value)()}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}var o,n},e.prototype.clearSelection=function(){var t,e,o,n,r=this.svg.querySelectorAll("."+this.css.selected),s=this.svg.querySelectorAll("."+this.css.highlight);try{for(var a=i(r),l=a.next();!l.done;l=a.next())l.value.classList.remove(this.css.selected)}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}try{for(var c=i(s),d=c.next();!d.done;d=c.next())d.value.classList.remove(this.css.highlight)}catch(t){o={error:t}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}this.svg.classList.remove(this.css.fade),this.selection.clear(),this.emitChange(null)},e.prototype.getSelection=function(){return this.selection},e.prototype.registerOnSelectionChange=function(t){this.selectionChangeCallbacks.push(t)},e.prototype.selectStep=function(t){var e='[data-connection-id="'+t+'"]',o=this.svg.querySelector(e);o&&this.materializeClickOnElement(o)},e.prototype.bindModelEvents=function(){var t,e,o=this,n=function(){return o.restoreSelection()},r=[],s=function(t){var e=a.workflow.model.on(t,n);r.push(function(){return e.dispose()})},a=this;try{for(var l=i(["connection.create","connection.remove"]),c=l.next();!c.done;c=l.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return function(){return r.forEach(function(t){return t()})}},e.prototype.restoreSelection=function(){var t=this;this.selection.forEach(function(o,n){if("node"===o){var r=t.svg.querySelector('[data-connection-id="'+n+'"]');r&&t.selectNode(r)}else if("edge"===o){var i=s(n.split(e.edgePortsDelimiter),2),a='[data-source-connection="'+i[0]+'"][data-destination-connection="'+i[1]+'"]',l=t.svg.querySelector(a);l&&t.selectEdge(l)}})},e.prototype.onClick=function(t){var e=t.target;this.clearSelection(),this.materializeClickOnElement(e)},e.prototype.materializeClickOnElement=function(t){var o;if(o=this.workflow.findParent(t,"node"))this.selectNode(o),this.selection.set(o.getAttribute("data-connection-id"),"node"),this.emitChange(o);else if(o=this.workflow.findParent(t,"edge")){this.selectEdge(o);var n=[o.getAttribute("data-source-connection"),e.edgePortsDelimiter,o.getAttribute("data-destination-connection")].join("");this.selection.set(n,"edge"),this.emitChange(n)}},e.prototype.selectNode=function(t){t.parentElement.appendChild(t),this.svg.classList.add(this.css.fade),t.classList.add(this.css.selected),t.classList.add(this.css.highlight);var e,o,n,r,s=t.getAttribute("data-id"),a=this.svg.querySelectorAll('.edge[data-source-node="'+s+'"],.edge[data-destination-node="'+s+'"]'),l=this.svg.getElementsByClassName("node")[0];try{for(var c=i(a),d=c.next();!d.done;d=c.next()){var u=d.value;u.classList.add(this.css.highlight),this.workflow.workflow.insertBefore(u,l);var h=u.getAttribute("data-source-node"),f=u.getAttribute("data-destination-node"),p=this.svg.querySelectorAll('.node[data-id="'+h+'"],.node[data-id="'+f+'"]');try{for(var g=i(p),v=g.next();!v.done;v=g.next())v.value.classList.add(this.css.highlight)}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}},e.prototype.selectEdge=function(t){t.classList.add(this.css.highlight),t.classList.add(this.css.selected);var e,o,n=t.getAttribute("data-source-node"),r=t.getAttribute("data-destination-node"),s=t.getAttribute("data-source-port"),a='.node[data-id="'+r+'"] .input-port[data-port-id="'+t.getAttribute("data-destination-port")+'"]',l='.node[data-id="'+n+'"] .output-port[data-port-id="'+s+'"]',c=this.svg.querySelectorAll(a+", "+l);try{for(var d=i(c),u=d.next();!u.done;u=d.next())u.value.classList.add(this.css.highlight)}catch(t){e={error:t}}finally{try{u&&!u.done&&(o=d.return)&&o.call(d)}finally{if(e)throw e.error}}},e.prototype.emitChange=function(t){try{for(var e=i(this.selectionChangeCallbacks),o=e.next();!o.done;o=e.next())(0,o.value)(t)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}var n,r},e.edgePortsDelimiter="$!$",e}(o(547).PluginBase);e.SelectionPlugin=a},784:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.escapeHTML=function(e){return String(e).replace(/[&<>"'\/]/g,function(e){return t.entityMap[e]})},t.entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",'""':"&quot;","'":"&#39;","/":"&#x2F;"},t}();e.HtmlUtils=o},793:()=>{"undefined"!=typeof window&&(window.CWLComponent=class{constructor(t={}){this.container=t.container,this.cwlData=t.cwl||null,this.cwlUrl=t.cwlUrl||null,this.editingEnabled=t.editingEnabled||!1,this.plugins=t.plugins||[],this.width=t.width||"100%",this.height=t.height||"600px",this.workflow=null,this.cwlModel=null,this.svgElement=null,this.isInitialized=!1,this.onWorkflowChanged=t.onWorkflowChanged||(()=>{}),this.onSelectionChanged=t.onSelectionChanged||(()=>{}),this.onError=t.onError||(()=>{}),this.init()}async init(){try{if(console.log("🎨 Initialisation du composant CWL..."),!this.container)throw new Error("Container requis pour le composant CWL");this.createSVGElement(),this.cwlUrl?await this.loadCwlFromUrl():this.cwlData&&await this.loadCwlFromData(this.cwlData),this.isInitialized=!0,console.log("✅ Composant CWL initialisé avec succès")}catch(t){console.error("❌ Erreur lors de l'initialisation du composant CWL:",t),this.onError(t)}}createSVGElement(){this.container.innerHTML="",this.svgElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svgElement.classList.add("cwl-workflow"),this.svgElement.style.width=this.width,this.svgElement.style.height=this.height,this.svgElement.style.border="1px solid #e5e7eb",this.svgElement.style.borderRadius="8px",this.container.appendChild(this.svgElement)}async loadCwlFromUrl(){try{console.log(`📥 Chargement CWL depuis URL: ${this.cwlUrl}`);const t=await fetch(this.cwlUrl,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error(`Erreur HTTP ${t.status}: ${t.statusText}`);const e=await t.json();await this.loadCwlFromData(e)}catch(t){throw console.error("❌ Erreur lors du chargement CWL depuis URL:",t),this.showError(`Impossible de charger le workflow depuis ${this.cwlUrl}`),t}}async loadCwlFromData(t){try{if(console.log("🔄 Traitement des données CWL...",t),!t)throw new Error("Données CWL vides ou invalides");this.cwlData=t,await this.createWorkflow()}catch(t){throw console.error("❌ Erreur lors du traitement des données CWL:",t),this.showError("Erreur lors du traitement des données CWL"),t}}async createWorkflow(){try{if(console.log("🏗️ Création du workflow cwl-svg..."),!this.isCwlSvgAvailable())throw new Error("cwl-svg non disponible");this.cwlModel=window.WorkflowFactory.from(this.cwlData),console.log("📋 Modèle CWL créé:",this.cwlModel);const t=[...this.getDefaultPluginInstances(),...this.plugins];this.workflow=new window.Workflow({editingEnabled:this.editingEnabled,model:this.cwlModel,svgRoot:this.svgElement,plugins:t}),this.setupWorkflowHandlers(),this.arrangeWorkflow(),console.log("✅ Workflow créé avec succès"),this.onWorkflowChanged(this.workflow)}catch(t){console.error("❌ Erreur lors de la création du workflow:",t),await this.createFallbackVisualization()}}isCwlSvgAvailable(){if("undefined"==typeof window)return!1;const t=window.WorkflowFactory&&"function"==typeof window.WorkflowFactory.from,e=window.Workflow&&"function"==typeof window.Workflow,o=window.SVGArrangePlugin||window.SelectionPlugin;return console.log("🔍 Détection cwl-svg:",{WorkflowFactory:!!window.WorkflowFactory,Workflow:!!window.Workflow,SVGArrangePlugin:!!window.SVGArrangePlugin,SelectionPlugin:!!window.SelectionPlugin,hasWorkflowFactory:t,hasWorkflow:e,hasBasicPlugins:o}),t&&e}getDefaultPluginInstances(){const t=[];try{window.SVGArrangePlugin&&(t.push(new window.SVGArrangePlugin),console.log("✅ SVGArrangePlugin ajouté")),window.SelectionPlugin&&(t.push(new window.SelectionPlugin),console.log("✅ SelectionPlugin ajouté")),window.SVGNodeMovePlugin&&(t.push(new window.SVGNodeMovePlugin),console.log("✅ SVGNodeMovePlugin ajouté")),window.SVGEdgeHoverPlugin&&(t.push(new window.SVGEdgeHoverPlugin),console.log("✅ SVGEdgeHoverPlugin ajouté")),window.SVGPortDragPlugin&&(t.push(new window.SVGPortDragPlugin),console.log("✅ SVGPortDragPlugin ajouté")),window.ZoomPlugin&&(t.push(new window.ZoomPlugin),console.log("✅ ZoomPlugin ajouté"))}catch(t){console.warn("⚠️ Erreur lors de la création des plugins:",t)}return console.log(`🔌 Plugins créés: ${t.length}`),t}setupWorkflowHandlers(){try{const t=this.workflow.getPlugin("SelectionPlugin");t&&(t.registerOnSelectionChange(t=>{if(t){const e=t.getAttribute("data-connection-id"),o=this.workflow.model.findById(e);this.onSelectionChanged(o)}}),console.log("🎯 Gestionnaire de sélection configuré")),this.workflow.on&&(this.workflow.on("afterRender",()=>{console.log("🎨 Workflow rendu")}),this.workflow.on("afterChange",t=>{console.log("🔄 Workflow modifié:",t)}))}catch(t){console.warn("⚠️ Erreur lors de la configuration des gestionnaires:",t)}}arrangeWorkflow(){try{const t=this.workflow.getPlugin("SVGArrangePlugin");t&&t.arrange?(t.arrange(),console.log("📐 Workflow réarrangé automatiquement")):this.workflow.fitToViewport&&(this.workflow.fitToViewport(),console.log("📐 Workflow ajusté à la vue"))}catch(t){console.warn("⚠️ Erreur lors de l'arrangement:",t)}}async createFallbackVisualization(){console.log("🔄 Création de la visualisation de fallback...");try{const t=await this.generateFallbackSVG(this.cwlData);this.container.innerHTML=t,this.showInfo("Visualisation en mode de compatibilité (cwl-svg non disponible)")}catch(t){console.error("❌ Erreur lors de la création du fallback:",t),this.showError("Impossible de visualiser le workflow")}}async generateFallbackSVG(t){const e=t,o=e.inputs||{},n=e.outputs||{},r=e.steps||{},i=Object.keys(o),s=Object.keys(n),a=Object.keys(r),l=i.length+a.length+s.length;let c=`<svg width="${Math.max(600,160*l)}" height="${Math.max(400,300)}" class="cwl-workflow-fallback">`;return c+="<style>\n            .cwl-workflow-fallback { font-family: 'Inter', sans-serif; }\n            .cwl-node { fill: #f3f4f6; stroke: #d1d5db; stroke-width: 2; rx: 8; }\n            .cwl-input { fill: #dbeafe; stroke: #3b82f6; }\n            .cwl-step { fill: #f0fdf4; stroke: #16a34a; }\n            .cwl-output { fill: #fef3c7; stroke: #f59e0b; }\n            .cwl-text { font-size: 12px; text-anchor: middle; dominant-baseline: middle; }\n            .cwl-connection { stroke: #6b7280; stroke-width: 2; fill: none; }\n        </style>",i.forEach((t,e)=>{const o=50+160*e;c+=`<rect class="cwl-node cwl-input" x="${o}" y="80" width="120" height="60"/>`,c+=`<text class="cwl-text" x="${o+60}" y="110">${t}</text>`}),a.forEach((t,e)=>{const o=50+160*e;c+=`<rect class="cwl-node cwl-step" x="${o}" y="200" width="120" height="60"/>`,c+=`<text class="cwl-text" x="${o+60}" y="230">${t}</text>`,e<i.length&&(c+=`<line class="cwl-connection" x1="${50+160*e+60}" y1="140" x2="${o+60}" y2="200"/>`)}),s.forEach((t,e)=>{const o=50+160*e;c+=`<rect class="cwl-node cwl-output" x="${o}" y="320" width="120" height="60"/>`,c+=`<text class="cwl-text" x="${o+60}" y="350">${t}</text>`,e<a.length&&(c+=`<line class="cwl-connection" x1="${50+160*e+60}" y1="260" x2="${o+60}" y2="320"/>`)}),c+="</svg>",c}showError(t){const e=document.createElement("div");e.className="cwl-error bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",e.innerHTML=`\n            <div class="flex items-center">\n                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">\n                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>\n                </svg>\n                <span>${t}</span>\n            </div>\n        `,this.container.appendChild(e)}showInfo(t){const e=document.createElement("div");e.className="cwl-info bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-lg mb-4",e.innerHTML=`\n            <div class="flex items-center">\n                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">\n                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>\n                </svg>\n                <span>${t}</span>\n            </div>\n        `,this.container.insertBefore(e,this.container.firstChild),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},5e3)}async updateCwl(t){this.cwlData=t,await this.loadCwlFromData(t)}async updateFromUrl(t){this.cwlUrl=t,await this.loadCwlFromUrl()}enableEditing(){this.editingEnabled=!0,this.workflow&&(this.workflow.editingEnabled=!0)}disableEditing(){this.editingEnabled=!1,this.workflow&&(this.workflow.editingEnabled=!1)}getSelectedNode(){if(this.workflow){const t=this.workflow.getPlugin("SelectionPlugin");return t?t.getSelection():null}return null}destroy(){if(this.workflow)try{this.workflow.destroy()}catch(t){console.warn("⚠️ Erreur lors de la destruction du workflow:",t)}this.container&&(this.container.innerHTML=""),console.log("🗑️ Composant CWL détruit")}})},961:function(t,e,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modelDisposers=[],e.css={plugin:"__plugin-validate",invalid:"__validate-invalid"},e}return r(e,t),e.prototype.registerWorkflow=function(e){t.prototype.registerWorkflow.call(this,e),this.workflow.svgRoot.classList.add(this.css.plugin)},e.prototype.afterModelChange=function(){this.disposeModelListeners();var t=this.workflow.model.on("connections.updated",this.renderEdgeValidation.bind(this)),e=this.workflow.model.on("connection.create",this.renderEdgeValidation.bind(this));this.modelDisposers.concat([t.dispose,e.dispose])},e.prototype.destroy=function(){this.disposeModelListeners()},e.prototype.afterRender=function(){this.renderEdgeValidation()},e.prototype.onEditableStateChange=function(t){t?this.renderEdgeValidation():this.removeClasses(this.workflow.workflow.querySelectorAll(".edge"))},e.prototype.disposeModelListeners=function(){try{for(var t=i(this.modelDisposers),e=t.next();!e.done;e=t.next())(0,e.value)()}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}var o,n;this.modelDisposers=[]},e.prototype.removeClasses=function(t){try{for(var e=i(t),o=e.next();!o.done;o=e.next())o.value.classList.remove(this.css.invalid)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}var n,r},e.prototype.renderEdgeValidation=function(){var t=this,e=this.workflow.workflow.querySelectorAll(".edge");this.removeClasses(e),this.workflow.model.connections.forEach(function(o){if(!o.isValid)try{for(var n=i(e),r=n.next();!r.done;r=n.next()){var s=r.value,a=s.getAttribute("data-source-connection"),l=s.getAttribute("data-destination-connection");if(o.source.id===a&&o.destination.id===l){s.classList.add(t.css.invalid);break}}}catch(t){c={error:t}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(c)throw c.error}}var c,d})},e}(o(547).PluginBase);e.SVGValidatePlugin=s}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n=o(228);window.CwlSvg=n})();